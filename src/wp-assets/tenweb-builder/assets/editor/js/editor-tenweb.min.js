jQuery(window).on("elementor:init",(function(){elementor.channels.editor.on("section:activated",(function(e,t){var n=t.getOption("editedElementView"),i=n.getEditModel(),o=i.get("elType");if("widget"===o&&(o=i.get("widgetType")),"twbb-flip-box"===o){var a=-1!==["section_side_b_content","section_style_b"].indexOf(e);n.$el.toggleClass("tenweb-flip-box--flipped",a);var r=n.$el.find(".tenweb-flip-box__back");a?r.css("transition","none"):setTimeout((function(){r.css("transition","")}),10)}else n.$el.parent().find(".elementor-widget-twbb-flip-box").each((function(){var e=jQuery(this);e.removeClass("tenweb-flip-box--flipped");var t=e.find(".tenweb-flip-box__back");setTimeout((function(){t.css("transition","")}),10)}))}))}));var tenwebShareButtons={networksClassDictionary:{pocket:"fab fa-get-pocket",email:"fa fa-envelope",print:"fa fa-print"},networks:{facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",pinterest:"Pinterest",reddit:"Reddit",vk:"VK",odnoklassniki:"OK",tumblr:"Tumblr",delicious:"Delicious",digg:"Digg",skype:"Skype",stumbleupon:"StumbleUpon",telegram:"Telegram",pocket:"Pocket",xing:"XING",whatsapp:"WhatsApp",email:"Email",print:"Print"},getNetworkClass:function(e){return this.networksClassDictionary[e]||"fab fa-"+e},getNetworkTitle:function(e){return e.text||this.networks[e.button]}},rest_route=twbb_editor.rest_route+"10webBuilder/conditions/",conditions_added=!1,saved_conditions_length=0,btn_type="publish";function hide_condition_popup(){var e,t="";twbb_editor.admin_condition_class?window.parent.tb_remove():(jQuery(".twbb-condition-popup-overlay").hide(),jQuery(".twbb-condition-popup-overlay .twbb-condition-notif-container").html("").hide(),jQuery(".twbb-condition-section-wrapper").css("display","block"),jQuery("#twbb-condition-save").html(twbb_editor.texts.publish),btn_type="publish"),t=0!=(e=jQuery(".twbb-condition-section-wrapper").children().length)?1===jQuery(".twbb-condition-section-wrapper").children().length?e+" condition":e+" conditions":"Add Condition",window.parent.jQuery(".display_admin_condition_popup").html(t)}function add_condtion_html(e){var t='<div class="twbb-condition-section"><div class="twbb-condition-section-selects"></div><span class="twbb_condition_change_loader"><i class="fas fa-spin fa-circle-notch" aria-hidden="true"></i></span><div class="twbb-condition-delete"></div></div>';if(jQuery("#elementor-preview-iframe").contents().find(".twbb-condition-section-wrapper").length){jQuery("#elementor-preview-iframe").contents().find(".twbb-condition-section-wrapper").append(t);var n=jQuery("#elementor-preview-iframe").contents().find(".twbb-condition-section").last().find(".twbb-condition-section-selects")}else{jQuery(".twbb-condition-section-wrapper").append(t);n=jQuery(".twbb-condition-section").last().find(".twbb-condition-section-selects")}new condition(n,e)}function show_popup_loading(){jQuery(".twbb-condition-popup-content").addClass("twbb-condition-popup-loading")}function hide_popup_loading(){jQuery(".twbb-condition-popup-content").removeClass("twbb-condition-popup-loading")}function saved_condition_added(){--saved_conditions_length<=0&&hide_popup_loading()}function check_widgets_type(){var e=[],t=jQuery(".twbb-condition-notif-container");return t.html("").hide(),"twbb_archive"===twbb_editor.twbb_template_type?twbb_is_widget_added("twbb-posts-archive"):"twbb_single"===twbb_editor.twbb_template_type&&!1===twbb_is_widget_added("twbbpost-content")&&!1===twbb_is_widget_added("post-content")&&!1===twbb_is_widget_added("twbb_product-content")&&!1===twbb_is_widget_added("product-content")&&e.push('<p class="twbb_c_error"><span>!</span> '+twbb_editor.texts.content_missing+"</p>"),!(e.length>0&&"publish"===btn_type)||(t.html(e.join("")).show(),btn_type="continue",jQuery(".twbb-condition-section-wrapper").css("display","none"),jQuery("#twbb-condition-save").html(twbb_editor.texts.continue),!1)}jQuery(document).ready((function(){if(twbb_editor.admin_condition_class&&(jQuery(".twbb-condition-popup-overlay").addClass(twbb_editor.admin_condition_class),jQuery(".twbb-condition-popup-overlay").show(),!1===conditions_added)){for(var e in(saved_conditions_length=twbb_editor.conditions.length)>0&&show_popup_loading(),twbb_editor.conditions)add_condtion_html(twbb_editor.conditions[e]);conditions_added=!0}jQuery(".twbb-condition-popup-overlay").on("click",(function(e){var t=jQuery(e.target);(t.hasClass("twbb-condition-popup-overlay")||t.hasClass("twbb-condition-popup-close")||t.closest(".twbb-condition-popup-close").length>0)&&hide_condition_popup()})),jQuery(document).on("keyup",(function(e){var t=jQuery(".twbb-condition-popup-overlay");"Escape"===e.key&&t.is(":visible")&&hide_condition_popup()})),jQuery("#twbb-condition-add-new").on("click",(function(e){return e.preventDefault(),add_condtion_html([]),!1})),jQuery("#twbb-condition-save").on("click",(function(e){e.preventDefault();var t=[],n=jQuery(".twbb-condition-section");if(!1!==check_widgets_type())return show_popup_loading(),n.length>0?n.each((function(){var e=jQuery(this),n={};e.find("select").each((function(){"5"==this.getAttribute("data-level")?n[this.getAttribute("data-name")]=jQuery(this).select2("val"):n[this.getAttribute("data-name")]=this.value})),t.push(n)})):t=[],jQuery.ajax({type:"POST",url:rest_route+"save_conditions",data:{conditions:JSON.stringify(t),post_id:twbb_editor.post_id},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb_editor.rest_nonce)}}).done((function(e){hide_popup_loading(),hide_condition_popup()})).fail((function(e){hide_popup_loading(),alert("Failed")})),!1}))}));var condition=function(e,t){var n,i=this,o=["author","date","search"],a=["front_page","not_found"],r=!1;function s(){var e=this.response.options,t=this.args,n="",r=void 0===i.options.post_type||""===i.options.post_type;for(var s in e)r=r||"selected"===u("post_type",e[s].id),n+="<option "+u("post_type",e[s].id)+' value="'+e[s].id+'">'+e[s].text+"</option>";if(!0===r){b("post_type");var l='<select class="'+("twbb-condition-post-types twbb-condition-post-types-"+t.type)+'" data-name="post_type" data-level="3">'+n+"</select>";i.condition_section.append(l),i.condition_section.find(".twbb-condition-post-types-"+t.type).on("change",(function(e){c(3),"archive"===t.type?function(e){var t=e.target.value;if("all"===t||w(t,o))return!0;_({},"archive_filter_types/"+t,p,{type:t},"archive_type_"+t)}(e):function(e){var t=e.target.value;if("all"===t||w(t,a))return!0;_({},"post_filter_types/"+t,d,{type:t},"singular_type_"+t)}(e)})).trigger("change")}else alert(twbb_editor.texts.condition_removed),i.condition_section.closest(".twbb-condition-section").remove(),saved_condition_added()}function d(){var e=this.response.options,t="";for(var n in e)t+="<option "+u("filter_type",e[n].id)+' value="'+e[n].id+'">'+e[n].text+"</option>";b("filter_type");var o='<select class="twbb-condition-post-filter-type" data-name="filter_type" data-level="4">'+t+"</select>";i.condition_section.append(o),i.condition_section.find(".twbb-condition-post-filter-type").on("change",(function(e){var t=e.target.value;c(4),"all"!==t&&l(t)})).trigger("change")}function p(){var e=this.response.options,t="";for(var n in e)t+="<option "+u("filter_type",e[n].id)+' value="'+e[n].id+'">'+e[n].text+"</option>";b("filter_type");var o='<select class="twbb-condition-archive-filter-type" data-name="filter_type" data-level="4">'+t+"</select>";i.condition_section.append(o),i.condition_section.find(".twbb-condition-archive-filter-type").on("change",(function(e){var t=e.target.value;if(c(4),"all"===t)return!0;l(t)})).trigger("change")}function l(e){var t=rest_route+("specific_posts"===e?"posts/":"taxonomy/"),n="";for(var o in i.options.specific_pages_options){n+='<option selected value="'+i.options.specific_pages_options[o].id+'">'+i.options.specific_pages_options[o].text+"</option>"}b("specific_pages_options");var a='<select class="twbb-condition-get-specific-filters" multiple="multiple" data-name="specific_pages" data-level="5">'+n+"</select>";i.condition_section.append(a),i.condition_section.find(".twbb-condition-get-specific-filters").select2({ajax:{url:t,data:function(t){return{search_in:e,search:t.term,post_type:i.condition_section.find(".twbb-condition-post-types-singular").val()}},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb_editor.rest_nonce)},processResults:function(e){return{results:e.data.options}}}}),c(5)}function c(e){"twbb_archive"===i.template_type||"twbb_single"===i.template_type?i.condition_section.attr("data-currentLevel",e-1):i.condition_section.attr("data-currentLevel",e);for(var t=e+1;t<=5;t++){var n=i.condition_section.find('select[data-level="'+t+'"]');0!==n.length&&(5===t&&n.select2("destroy"),n.remove())}i.condition_section.find("#condition_change_loader").remove()}function _(e,t,n,o,a){null===a||void 0===i.cache[a]?(i.condition_section.parent().find(".twbb_condition_change_loader").css("visibility","visible"),function(e,t,n,o,a){var r=rest_route+t;jQuery.ajax({type:"GET",url:r,data:e,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb_editor.rest_nonce)}}).done((function(e){if(!1===e.success)return alert("Failed"),!0;if(void 0!==a&&(i.cache[a]=e.data),"function"==typeof n){var t={response:e.data,args:o};n.apply(t)}jQuery("#elementor-preview-iframe").contents().find(".twbb-condition-section-wrapper").length?jQuery("#elementor-preview-iframe").contents().find(".twbb_condition_change_loader").css("visibility","hidden"):jQuery(".twbb_condition_change_loader").css("visibility","hidden")})).fail((function(e){alert("Failed")}))}(e,t,n,o,a)):n.apply({response:i.cache[a],args:o})}function u(e,t){return!0===r?"":void 0!==i.options[e]&&i.options[e]==t?"selected":""}function b(e){!0!==r&&(void 0!==i.options[e]&&("specific_pages_options"===e?i.options.specific_pages_options=[]:delete i.options[e]),n===e&&(r=!0,saved_condition_added()))}function w(e,t){for(var n in t)if(t[n]===e)return!0;return!1}this.condition_section=e,this.cache=[],this.options=t,this.template_type=twbb_editor.twbb_template_type,this.init=function(){var e;!function(){if("general"===i.options.page_type)return void(n="page_type");if("all"===i.options.post_type||w(i.options.post_type,a)||w(i.options.post_type,o))return void(n="post_type");n="all"===i.options.filter_type?"filter_type":"specific_pages_options"}(),e='<select class="twbb-condition-type" data-name="condition_type" data-level="1"><option '+u("condition_type","include")+' value="include">'+twbb_editor.texts.include+"</option><option "+u("condition_type","exclude")+' value="exclude">'+twbb_editor.texts.exclude+"</option></select>",b("condition_type"),i.condition_section.append(e),function(){var e="";"twbb_single"===i.template_type?(i.options.page_type="singular",e="style='display:none;'"):"twbb_archive"===i.template_type&&(i.options.page_type="archive",e="style='display:none;'");var t="<select "+e+' class="twbb-condition-page-type" data-name="page_type" data-level="2"><option '+u("page_type","general")+' value="general">'+twbb_editor.texts.general+"</option><option "+u("page_type","archive")+' value="archive">'+twbb_editor.texts.archive+"</option><option "+u("page_type","singular")+' value="singular">'+twbb_editor.texts.singular+"</option></select>";b("page_type"),i.condition_section.append(t),i.condition_section.find(".twbb-condition-page-type").on("change",(function(e){var t=e.target.value;if(c(2),"general"===t)return!0;_({},"post_types/"+t,s,{type:t},t)})).trigger("change")}(),this.condition_section.on("change",(function(e){var t=jQuery(e.target);if(parseInt(t.data("level"))<2)return!0})),this.condition_section.closest(".twbb-condition-section").find(".twbb-condition-delete").on("click",(function(){confirm(twbb_editor.texts.are_your_sure)&&i.condition_section.closest(".twbb-condition-section").remove()}))},this.init()};jQuery(document).ready((function(){}));var currentElType,plugin_slug,start_data,end_data,plugin_status={},need_reload=0;jQuery(window).on("elementor:init",(function(){elementor.channels.editor.on("section:activated",(function(e,t){var n=t.getOption("editedElementView").getEditModel(),i=n.get("elType");"widget"===i&&(i=n.get("widgetType")),currentElType=i,2==need_reload?setTimeout((function(){jQuery(".one_click_action").parent().html("<p class='twbb_description'>"+twbb.inprogress_msg+"</p>")}),0):1==need_reload?setTimeout((function(){jQuery(".one_click_action").parent().html("<p class='twbb_description'>"+twbb.reload_msg+"</p>")}),0):i in plugin_status?1==plugin_status[currentElType]?setTimeout((function(){jQuery("#install_plugin").parent().html("<p class='twbb_description'>"+twbb.install_success+"</p>")}),0):2==plugin_status[currentElType]?setTimeout((function(){jQuery("#activate_plugin").parent().html("<p class='twbb_description'>"+twbb.activate_success+"</p>")}),0):3==plugin_status[currentElType]&&setTimeout((function(){jQuery("#activate_plugin").parent().html("<p class='twbb_description'>"+twbb.update_success+"</p>")}),0):plugin_status[i]=0}))})),jQuery(document).ready((function(){jQuery(document).on("click","#install_plugin",(function(){jQuery(this).find(".spinner").css({display:"inline-block",visibility:"visible"}),plugin_slug=jQuery(this).data("slug"),"0"!=jQuery(this).attr("data-is_paid")?jQuery.ajax({type:"POST",url:twbb.action_endpoint,data:{action:"install-activate",origin:"10web",product_id:jQuery(this).data("id"),tenweb_nonce:twbb.ajaxnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb.ajaxnonce),need_reload=2},success:function(e){jQuery(this).find(".spinner").css({display:"none",visibility:"hidden"}),jQuery("#install_plugin").parent().html("<p class='twbb_description'>"+twbb.install_success+"</p>"),plugin_status[currentElType]=1,need_reload=1},failure:function(e){need_reload=1},error:function(e){window.location.reload()}}):function(e){jQuery.ajax({type:"POST",url:twbb.action_endpoint,data:{action:"install-activate",origin:"wp.org",type:"plugin",slug:e,tenweb_nonce:twbb.ajaxnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb.ajaxnonce),need_reload=2},success:function(e){jQuery(this).find(".spinner").css({display:"none",visibility:"hidden"}),jQuery("#install_plugin").parent().html("<p class='twbb_description'>"+twbb.install_success+"</p>"),plugin_status[currentElType]=1,need_reload=1},failure:function(e){window.location.reload()},error:function(e){window.location.reload()}})}(plugin_slug)})),jQuery(document).on("click","#activate_plugin",(function(){jQuery(this).find(".spinner").css({display:"inline-block",visibility:"visible"});jQuery(this).data("slug");jQuery.ajax({type:"POST",url:twbb.action_endpoint,data:{action:"activate",origin:"10web",product_id:jQuery(this).data("id"),tenweb_nonce:twbb.ajaxnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb.ajaxnonce),need_reload=2},success:function(e){jQuery("#plugin_status").val("1"),jQuery(this).find(".spinner").css({display:"none",visibility:"hidden"}),jQuery("#activate_plugin").parent().html("<p class='twbb_description'>"+twbb.activate_success+"</p>"),plugin_status[currentElType]=2,need_reload=1},failure:function(e){window.location.reload()},error:function(e){window.location.reload()}})})),jQuery(document).on("click","#update_plugin",(function(){jQuery(this).find(".spinner").css({display:"inline-block",visibility:"visible"});jQuery(this).data("slug");jQuery.ajax({type:"POST",url:twbb.action_endpoint,data:{action:"update",origin:"10web",product_id:jQuery(this).data("id"),tenweb_nonce:twbb.ajaxnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb.ajaxnonce),need_reload=2},success:function(e){jQuery("#plugin_status").val("1"),jQuery(this).find(".spinner").css({display:"none",visibility:"hidden"}),jQuery("#update_plugin").parent().html("<p class='twbb_description'>"+twbb.update_success+"</p>"),plugin_status[currentElType]=3,need_reload=1},failure:function(e){window.location.reload()},error:function(e){window.location.reload()}})}))})),jQuery(window).on("elementor:init",(function(){var e=elementor.modules.controls.Select2.extend({isFirstTime:!0,getSelect2DefaultOptions:function(){var e=this;return jQuery.extend(elementor.modules.controls.Select2.prototype.getSelect2DefaultOptions.apply(this,arguments),{ajax:{transport:function(t,n,i){var o=["twbb_editor_select_ajax_get_options",{data:{q:t.data.q,filter_by:e.model.get("filter_by"),action:"twbb_editor_get_posts"},success:n,error:i}];return elementor.ajax.send.apply(elementor.ajax,o)}},escapeMarkup:function(e){return e},minimumInputLength:1})},setSavedOptions:function(){var e=this,t=this.getControlValue(),n=this.model.get("filter_by");t&&n&&(Array.isArray(t)||(t=[t]),elementor.ajax.loadObjects({action:"twbb_editor_select_ajax_get_saved_options",ids:t,data:{filter_by:n,unique_id:""+e.cid+n},before:function(){e.disableControl()},success:function(t){e.isFirstTime=!1,e.model.set("options",t),e.render()}}))},disableControl:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner">&nbsp;<i class="fa fa-spinner fa-spin"></i>&nbsp;</span>')},applySavedValue:function(){setTimeout(elementor.modules.controls.Select2.prototype.applySavedValue.bind(this)),this.isFirstTime&&this.setSavedOptions()}});elementor.addControlView("TWBBSelectAjax",e)}));var loaded_templates,diff_data={},smallBG=!0;function twbb_add_widget(e,t){void 0===twbb_widgets[e]&&(twbb_widgets[e]=[]),twbb_widgets[e].push(t)}function twbb_get_widgets(e){return void 0===twbb_widgets[e]?[]:twbb_widgets[e]}function twbb_is_widget_added(e){var t=jQuery("#elementor-preview-iframe").contents();return jQuery(".elementor-widget-"+e).length>0||t.find(".elementor-widget-"+e).length>0}function preview_resize(){jQuery(".twbb_nav li").on("mouseover",(function(){jQuery(".twbb_nav .twbb_sub_menu, .twbb_nav .twbb_sub_menu_cont").hide(),jQuery(this).find(".twbb_sub_menu").show(),jQuery(this).find(".twbb_sub_menu_cont").show()})).mouseleave((function(){jQuery(this).find(".twbb_sub_menu").hide(),jQuery(this).find(".twbb_sub_menu_cont").hide()})),jQuery(".twbb_upgrade_for_trial_users").on("mouseover",(function(){jQuery(this).find(".twbb_upgrade_submenu").show()})).mouseleave((function(){jQuery(this).find(".twbb_upgrade_submenu").hide()}));var e=!1;jQuery(".ui-resizable-handle").mousedown((function(){e=!0})),jQuery(document).mouseup((function(){e=!1})),jQuery(document).mousemove(".ui-resizable-handle",(function(){0!=e&&responsive_css_header(jQuery("#elementor-preview").width())}))}jQuery(document).ready((function(){jQuery("#wp-admin-bar-elementor_edit_page .ab-sub-wrapper").remove(),jQuery("#template_popup_container select").on("click",(function(){jQuery(this).hasClass("opened")?jQuery(this).removeClass("opened"):jQuery(this).addClass("opened")})),1==twbb_options.is_post_template?(jQuery(".template_popup").addClass("template"),jQuery(".template_popup h2#website_structure, .template_popup #website_structure_content").addClass("active")):jQuery(".template_popup").addClass("page"),"undefined"!=typeof twbb_editor&&""!=twbb_editor.twbb_template_type&&"false"!=twbb_editor.twbb_template_type&&jQuery("body").addClass(twbb_editor.twbb_template_type+"_template twbb_template"),jQuery("div[data-elementor-type='twbb_header'], div[data-elementor-type='twbb_single'], div[data-elementor-type='twbb_archive'], div[data-elementor-type='twbb_footer']").hover((function(){self!=top&&"1"!=twbb_options.is_post_template&&0!=jQuery(this).find(".edit_templ").length&&(jQuery(this).css("position","relative"),jQuery(this).find(".edit_templ").show(),jQuery(this).addClass("twbb_template-border"))}),(function(){self!=top&&"1"!=twbb_options.is_post_template&&0!=jQuery(this).find(".edit_templ").length&&(jQuery(this).find(".edit_templ").hide(),jQuery(this).removeClass("twbb_template-border"))})),jQuery(document).on("click",".edit_templ_button",(function(e){if(self!=top){var t=twbb_options.loaded_templates;Object.keys(t).forEach((function(e){if(jQuery("#"+e+"_template").val(t[e]),jQuery("#"+e+"_template").length){var n=jQuery("#"+e+"_template").closest(".template_row").find(".edit_template_global").attr("href").replace("{post_id}",t[e]);jQuery("#"+e+"_template").closest(".template_row").find(".edit_template_global").attr("href",n)}}));var n=""!=jQuery(this).parent().data("template")?jQuery(this).parent().data("template"):"twbb_header";jQuery("#twbb_header_container, #twbb_footer_container, #twbb_single_container, #twbb_archive_container").hide(),jQuery("#"+n+"_container #"+n+"_template").attr("class",""),"1"==jQuery("#"+n+"_container #"+n+"_template").data("single")&&(jQuery("#"+n+"_container #"+n+"_template").css({background:"none"}),jQuery("#"+n+"_container #"+n+"_template").attr("disabled","disabled")),jQuery(".template_popup.page_layout, #"+n+"_container").show(),start_data={header_template:jQuery("#twbb_header_template").val(),single_template:jQuery("#twbb_single_template").val(),archive_template:jQuery("#twbb_archive_template").val(),footer_template:jQuery("#twbb_footer_template").val()},jQuery("#template_popup_container .template_select select").each((function(){jQuery(this).attr("data-current",jQuery(this).val())}))}})),jQuery(document).on("click",".twbb_nav_footer_menu, .twbb_nav_header_menu",(function(e){var t=twbb_options.loaded_templates,n=jQuery("#elementor-preview-iframe").contents();Object.keys(t).forEach((function(e){n.find("#"+e+"_template").val(t[e]);var i=n.find("#"+e+"_template").closest(".template_row").find(".edit_template_global").attr("href").replace("{post_id}",t[e]);n.find("#"+e+"_template").closest(".template_row").find(".edit_template_global").attr("href",i)}));var i=""!=jQuery(this).parent().data("template")?jQuery(this).parent().data("template"):"twbb_header";if(!n.find("#"+i+"_container #"+i+"_template option").length)return n.find("#twbb_header_container, #twbb_footer_container, #twbb_single_container, #twbb_archive_container").hide(),n.find("#"+i+"_container #"+i+"_template").attr("class",""),n.find(".template_popup.page_layout, #"+i+"_container .template_row").css({display:"none"}),n.find(".template_popup.page_layout, #"+i+"_container").css({height:"unset"}),n.find(".template_popup.page_layout, #"+i+"_container").show(),void jQuery(".twbb_sub_menu").hide();i in t||(n.find("#"+i+"_container #"+i+"_template").find("option[value=0]").remove(),n.find("#"+i+"_container #"+i+"_template").prepend('<option selected value="0">Choose template</option>')),n.find("#twbb_header_container, #twbb_footer_container, #twbb_single_container, #twbb_archive_container").hide(),n.find("#"+i+"_container #"+i+"_template").attr("class",""),"1"==n.find("#"+i+"_container #"+i+"_template").data("single")&&"0"!=n.find("#"+i+"_container #"+i+"_template").val()&&(n.find("#"+i+"_container #"+i+"_template").addClass("single"),n.find("#"+i+"_container #"+i+"_template").attr("disabled","disabled"),n.find("#"+i+"_container #"+i+"_template").css({background:"none"})),n.find(".template_popup.page_layout, #"+i+"_container").show(),start_data=self==top?{header_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_header_template").val(),single_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_single_template").val(),archive_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_archive_template").val(),footer_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_footer_template").val()}:{header_template:jQuery("#twbb_header_template").val(),single_template:jQuery("#twbb_single_template").val(),archive_template:jQuery("#twbb_archive_template").val(),footer_template:jQuery("#twbb_footer_template").val()},jQuery("#template_popup_container .template_select select").each((function(){jQuery(this).attr("data-current",jQuery(this).val())})),jQuery(".twbb_sub_menu").hide()})),jQuery(document).on("click",".add-template-link",(function(){window.open(jQuery(this).attr("href"))})),jQuery(document).on("change","#template_popup_container .template_select select",(function(e){jQuery(this).hasClass("active")||(jQuery(this).parent().find(".edit_template_global").hide(),jQuery(this).closest(".template_row").find(".template_select").addClass("active")),jQuery(this).attr("data-current")==jQuery(this).val()&&(jQuery(this).closest(".template_row").find(".template_select").removeClass("active"),0!=jQuery(this).val()&&jQuery(this).parent().find(".edit_template_global").show())})),jQuery(document).on("click","#twbb_popup_save",(function(){jQuery(".twbb-save-popup-loader").css("display","inline-block"),end_data=self==top?{header_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_header_template").val(),single_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_single_template").val(),archive_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_archive_template").val(),footer_template:jQuery("#elementor-preview-iframe").contents().find("#twbb_footer_template").val()}:{header_template:jQuery("#twbb_header_template").val(),single_template:jQuery("#twbb_single_template").val(),archive_template:jQuery("#twbb_archive_template").val(),footer_template:jQuery("#twbb_footer_template").val()},Object.keys(end_data).forEach((function(e){void 0===start_data&&(start_data=window.parent.start_data),start_data[e]!=end_data[e]&&(diff_data[e]=end_data[e])})),start_data=new Object,data=diff_data,data.current_post_id=twbb_options.post_id,data.task="save_popup",data.page_type=twbb_options.twbb_page_type,jQuery.ajax({type:"GET",url:twbb_options.popup_template_ajax,data:data,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",twbb_options.rest_nonce)}}).done((function(e){elementor.reloadPreview()})).fail((function(e){alert("Failed")}))})),jQuery(document).mouseup((function(e){var t=jQuery("#template_popup_container,#template_popup_container, .twbb-condition-popup-overlay");t.is(e.target)||0!==t.has(e.target).length||(jQuery(".template_popup").hide(),jQuery(".template_popup.page_layout").hide(),jQuery(".template_popup.website_structure").hide())})),jQuery(document).on("click","#template_popup_container .close_popup, #template_popup_container .close_popup",(function(e){jQuery(".template_popup.page_layout").hide(),jQuery(".template_popup.website_structure").hide()})),jQuery(document).on("click",".edit_template_global, .edit_template, .structure-section-edit, .more a",(function(){jQuery(this).closest("body.elementor-editor-active").length&&window.open(jQuery(this).attr("href"),"_blank")})),jQuery(document).on("click",".twbb_finder",(function(){"function"==typeof parent.elementorCommon.finder.getLayout?parent.elementorCommon.finder.getLayout().showModal():parent.$e.route("finder"),jQuery("#elementor-preview-iframe").contents().find(".template_popup").hide()})),self!=top&&(window.parent.twbb_options.loaded_templates=twbb_options.loaded_templates)})),jQuery(window).on("elementor:loaded",(function(){elementor.on("preview:loaded",(function(){var e=jQuery("#elementor-preview-iframe").contents();jQuery("#elementor-mode-switcher").on("click",(function(){jQuery("body").hasClass("elementor-editor-preview")?(jQuery("#twbb_custom_header").show(),jQuery("#elementor-panel-header-title img").show()):(jQuery("#twbb_custom_header").hide(),jQuery("#elementor-panel-header-title img").hide())}));var t=e.find("#twbb_custom_header").wrap("<p/>").parent().html();e.find("#twbb_custom_header").unwrap(),e.find("#twbb_custom_header").remove(),jQuery("#twbb_custom_header").remove(),jQuery("#elementor-responsive-bar").after(t),"header_footer"!=twbb_options.header_button&&(jQuery("#twbb_custom_header .header_footer").hide(),"condition"==twbb_options.header_button&&jQuery("#twbb_custom_header .advanced").show()),jQuery("#twbb_custom_header").show(),jQuery("#display_condition_popup").click((function(e){if(jQuery(".twbb-condition-popup-overlay").show(),!1===conditions_added){for(var t in(saved_conditions_length=twbb_editor.conditions.length)>0&&show_popup_loading(),twbb_editor.conditions)add_condtion_html(twbb_editor.conditions[t]);conditions_added=!0}})),jQuery(document).on("click",".elementor-templates-modal__header__close .eicon-close",(function(){e.find(".template_popup.twbb_finder_popup_layout").hide()})),jQuery(document).on("click","#elementor-finder__modal",(function(t){jQuery(t.target).closest(".dialog-widget-content.dialog-lightbox-widget-content.ui-draggable.ui-draggable-handle").length||e.find(".template_popup.twbb_finder_popup_layout").hide()})),responsive_css_header(jQuery("#elementor-preview").width()),preview_resize();var n="";"undefined"!=typeof PerfectScrollbar&&jQuery(".twbb_sub_menu_cont .twbb_sub_menu").length&&(n=new PerfectScrollbar(".twbb_sub_menu_cont .twbb_sub_menu"));var i=jQuery("#twbb_custom_header .website_structure .twbb_sub_menu .title_container .current").length;jQuery("#twbb_custom_header .website_structure .twbb_sub_menu_cont .twbb_sub_menu .title").each((function(){var e=jQuery(this).find(".title_container");e.hasClass("opened")&&!i||jQuery(this).find(".current").length?(e.removeClass("closed"),e.addClass("opened"),e.parent().addClass("active"),e.parent().find(".twbb-widget-icon.twbb-arrow-down").removeClass("twbb-arrow-down").addClass("twbb-arrow-up"),i=!0):(e.addClass("closed"),e.removeClass("opened"),e.parent().removeClass("active"),e.parent().find(".twbb-widget-icon.twbb-arrow-up").removeClass("twbb-arrow-up").addClass("twbb-arrow-down"))})),i||jQuery("#twbb_custom_header .website_structure .twbb_sub_menu_cont .twbb_sub_menu .title .title_container").first().removeClass("closed").addClass("opened"),jQuery("#twbb_custom_header .website_structure .twbb_sub_menu_cont .twbb_sub_menu .title>label").on("click",(function(){jQuery(this).parent().find(".title_container").hasClass("opened")?(jQuery(this).parent().find(".title_container").removeClass("opened"),jQuery(this).parent().find(".title_container").addClass("closed"),jQuery(this).parent().removeClass("active"),jQuery(this).parent().find(".twbb-widget-icon.twbb-arrow-up").removeClass("twbb-arrow-up").addClass("twbb-arrow-down")):(jQuery(this).parent().find(".title_container").removeClass("closed"),jQuery(this).parent().find(".title_container").addClass("opened"),jQuery(this).parent().addClass("active"),jQuery(this).parent().find(".twbb-widget-icon.twbb-arrow-down").removeClass("twbb-arrow-down").addClass("twbb-arrow-up")),""!=n&&n.update()})),1==twbb_options.is_post_template&&(jQuery("#elementor-panel-footer-saver-preview, #elementor-panel-footer-saver-preview-label").on("click",(function(){return!1})),jQuery("#elementor-panel-footer-saver-preview").css({opacity:"0.2",cursor:"default"}),jQuery("#elementor-panel-footer-saver-preview").attr("data-tooltip",""))}))})),jQuery(window).on("elementor:init",(function(){1==twbb_options.is_post_template&&elementor.saver.on("page:status:change",(function(){setTimeout((function(){jQuery("#elementor-toast").hide(),elementor.notifications.getToast().hide()}))}))})),jQuery(window).on("resize",(function(){responsive_css_header(jQuery("#elementor-preview").width())}));var resp_status={default:!1,default_small:!1,900:!1,950:!1,1150:!1,1250:!1,1370:!1};function reset_resp_status(e,t){for(var n in e)e[n]=n==t}function responsive_css_header(e){e||(e=1300),e<1150&&(resp_status.default_small||(reset_resp_status(resp_status,"default_small"),jQuery("#twbb_custom_header .twbb_dashboard a").css({padding:"8px 15px",margin:"0 20px 0 10px"}),jQuery("#twbb_custom_header .twbb_upgrade_for_trial_users").css({"padding-right":"10px"}),jQuery("#twbb_custom_header .twbb_nav li").css("margin-right","10px"),jQuery("#twbb_custom_header .twbb_nav .twbb_sub_menu .title_container li a").css({padding:"0px 70px 0 10px","overflow-wrap":"break-word"}),jQuery("#twbb_custom_header a").css({"font-size":"13px"}),jQuery("#twbb_custom_header label").css({"font-size":"13px"}),jQuery("#twbb_custom_header #twbb_website_structure").css({padding:"0 25px"}))),e<900?resp_status[900]||(reset_resp_status(resp_status,"900"),jQuery("#twbb_custom_header .nav_prev_next").hide(),jQuery("#twbb_custom_header .twbb_watch_video").hide(),jQuery(".twbb_finder").find("label").hide()):e<950?resp_status[950]||(reset_resp_status(resp_status,"950"),jQuery(".nav_prev_next").hide(),jQuery("#twbb_custom_header .twbb_watch_video").show(),jQuery("#twbb_custom_header #display_finder").show(),jQuery(".twbb_finder").find("label").show()):e<1150?resp_status[1150]||(reset_resp_status(resp_status,"1150"),jQuery(".nav_prev_next").show(),jQuery("#twbb_custom_header .twbb_nav li").css("margin-right","10px"),jQuery("#twbb_custom_header a").css({"font-size":"13px"}),jQuery("#twbb_custom_header #twbb_website_structure").css({padding:"0 25px"}),jQuery("#twbb_custom_header .twbb_dashboard a").css({margin:"0 20px 0 15px"}),jQuery("#twbb_custom_header .twbb_upgrade_for_trial_users").css({"padding-right":"15px"})):e<1250?resp_status[1250]||(reset_resp_status(resp_status,"1250"),jQuery(".twbb_finder").find("label").show(),jQuery(".nav_prev_next").hide(),jQuery("#twbb_custom_header .twbb_nav li").css("margin-right","10px"),jQuery("#twbb_custom_header a").css("font-size","15px"),jQuery("#twbb_custom_header label").css("font-size","15px")):e<1370?resp_status[1370]||(reset_resp_status(resp_status,"1370"),jQuery("#twbb_custom_header .twbb_dashboard a").css({margin:"0 20px 0 20px"}),jQuery("#twbb_custom_header .twbb_nav li").css("margin-right","10px"),jQuery("#twbb_custom_header #display_finder").show(),jQuery(".twbb_finder").find("label").show(),jQuery(".nav_prev_next").show()):resp_status.default||(reset_resp_status(resp_status,"default"),jQuery(".twbb_finder").find("label").show(),jQuery("#twbb_custom_header #display_finder").show(),jQuery("#twbb_custom_header a").css({"font-size":"14px"}),jQuery("#twbb_custom_header .website_structure .title_container a").css({"font-size":"14px"}),jQuery("#twbb_custom_header .website_structure .twbb_sub_menu li a.view_more").css({"font-size":"13px"}),jQuery("#twbb_custom_header label").css({"font-size":"15px"}),jQuery("#twbb_custom_header .twbb_dashboard a").css({padding:"8px 20px",margin:"0px 30px 0 20px"}),jQuery("#twbb_custom_header .twbb_upgrade_for_trial_users").css({"padding-right":"20px"}),jQuery("#twbb_custom_header .twbb_nav .twbb_sub_menu .title_container li a").css({padding:"0px 70px 0 10px","overflow-wrap":"break-word"}),jQuery("#twbb_custom_header #twbb_website_structure").css({padding:"0 25px"}),jQuery("#twbb_custom_header .twbb_nav li.header_footer, #twbb_custom_header .twbb_nav li.advanced").css("margin-right","20px"))}